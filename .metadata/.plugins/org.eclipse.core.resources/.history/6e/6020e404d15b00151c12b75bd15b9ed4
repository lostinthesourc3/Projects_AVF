Titanium.UI.setBackgroundColor('#000');

var mainWin = Ti.UI.createWindow({
	backgroundColor: "#fff"
});

var runGeo = function(){
	Ti.Geolocation.purpose = "Your location is needed to gather coords."; 
	Ti.Geolocation.getCurrentPosition(function(e){
               // console.log(e);  //good idea to console log to see what's available to you
		var lat = e.coords.latitude;
		var lng = e.coords.longitude;
        var ui = require("ui");
		ui.buildUi(lat, lng); 
	});
}; //runGeo closing
//exports.runGeoCode = runGeo;

var url = "http://api.wunderground.com/api/d1e578e5aa05dc1d/conditions/";
if (Ti.Network.online) {
     var getData = Ti.Network.createHTTPClient();
     getData.onload = function(e){
          console.log(e);  //this is the raw data-string returned from the URL request
          var json = JSON.parse(this.responseText);  //convert the string to JS object notation
          var forecast = json.conditions;
          var location = json.location;
          var ui = require("ui");
          ui.buildUi(forecast, location);
     }; //getData.onload closing
     getData.open("GET", url);
     getData.send();
} else {
     alert("Network currently unavailable.");
}; 








mainWin.open();

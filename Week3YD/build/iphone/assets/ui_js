var win=Ti.UI.createWindow({backgroundColor:"#fff",layout:"vertical",statusBarStyle:Titanium.UI.iPhone.StatusBar.LIGHT_CONTENT}),topBar=Ti.UI.createView({top:0,width:"100%",height:"10%",backgroundColor:"#460067"}),catWorld=Ti.UI.createLabel({text:"Crazy Cat Lady",font:{fontSize:30,fontFamily:"SnellRoundhand-Black"},color:"#fff",bottom:10});topBar.add(catWorld);var scrollView=Ti.UI.createScrollView({top:0,width:"100%",height:"80%",showVerticalScrollIndicator:!0,backgroundColor:"#fff",layout:"vertical"}),buildUI=function(e){for(i=0,j=e.length;i<j;i++){var t=Ti.UI.createView({top:40,width:450,height:Ti.UI.SIZE,backgroundColor:"#fff",layout:"vertical"});scrollView.add(t);var a=Ti.UI.createLabel({top:0,left:0,text:e[i].username,font:{fontSize:15,fontFamily:"AvenirNext-Bold"},color:"#000"}),o=Ti.UI.createImageView({top:5,height:Ti.UI.SIZE,width:Ti.UI.SIZE,image:e[i].image}),r=Ti.UI.createLabel({top:5,left:0,text:e[i].text,font:{fontSize:15,fontFamily:"AvenirNext-Regular"},color:"#000"});t.add(a),t.add(o),t.add(r)}},bottomBar=Ti.UI.createView({top:0,bottom:0,width:"100%",height:"11%",backgroundColor:"#460067"}),circle=Ti.UI.createImageView({width:70,height:70,borderRadius:35,backgroundColor:"#fff"}),innerCircle=Ti.UI.createImageView({width:62,height:62,borderRadius:31,backgroundColor:"#460067"});circle.add(innerCircle),bottomBar.add(circle),Ti.Gesture.addEventListener("shake",function(){if("android"===Ti.Platform.osname){var e=Titanium.UI.createWindow({backgroundColor:"#fff",layout:"vertical"}),i=Titanium.UI.createButton({title:"Record Video",top:"10dp"});e.add(i);var t=Titanium.UI.createButton({title:"Play Recorded Video",visible:!1,top:"10dp"});e.add(t),e.open();var a=null;i.addEventListener("click",function(){var i=Titanium.Android.createIntent({action:"android.media.action.VIDEO_CAPTURE"});e.activity.startActivityForResult(i,function(e){e.resultCode==Ti.Android.RESULT_OK?null!=e.intent.data?(a=e.intent.data,t.visible=!0):Ti.API.error("Could not retrieve media URL!"):e.resultCode==Ti.Android.RESULT_CANCELED?Ti.API.trace("User cancelled video capture session."):Ti.API.error("Could not record video!")})}),t.addEventListener("click",function(){var i=Ti.Media.createVideoPlayer({url:a,autoplay:!0});e.add(i)})}else Titanium.Media.showCamera({success:function(e){Ti.API.debug("Our type was: "+e.mediaType),e.mediaType==Ti.Media.MEDIA_TYPE_PHOTO||alert("got the wrong type back ="+e.mediaType)},cancel:function(){},error:function(e){var i=Titanium.UI.createAlertDialog({title:"Camera"});e.code==Titanium.Media.NO_CAMERA?i.setMessage("Please run this test on device"):i.setMessage("Unexpected error: "+e.code),i.show()},saveToPhotoGallery:!0,allowEditing:!0,mediaTypes:[Ti.Media.MEDIA_TYPE_VIDEO,Ti.Media.MEDIA_TYPE_PHOTO]})}),circle.addEventListener("click",function(){if("android"===Ti.Platform.osname){var e=Titanium.UI.createWindow({backgroundColor:"#fff",layout:"vertical"}),i=Titanium.UI.createButton({title:"Record Video",top:"10dp"});e.add(i);var t=Titanium.UI.createButton({title:"Play Recorded Video",visible:!1,top:"10dp"});e.add(t),e.open();var a=null;i.addEventListener("click",function(){var i=Titanium.Android.createIntent({action:"android.media.action.VIDEO_CAPTURE"});e.activity.startActivityForResult(i,function(e){e.resultCode==Ti.Android.RESULT_OK?null!=e.intent.data?(a=e.intent.data,t.visible=!0):Ti.API.error("Could not retrieve media URL!"):e.resultCode==Ti.Android.RESULT_CANCELED?Ti.API.trace("User cancelled video capture session."):Ti.API.error("Could not record video!")})}),t.addEventListener("click",function(){var i=Ti.Media.createVideoPlayer({url:a,autoplay:!0});e.add(i)})}else Titanium.Media.showCamera({success:function(e){Ti.API.debug("Our type was: "+e.mediaType),e.mediaType==Ti.Media.MEDIA_TYPE_PHOTO||alert("got the wrong type back ="+e.mediaType)},cancel:function(){},error:function(e){var i=Titanium.UI.createAlertDialog({title:"Camera"});e.code==Titanium.Media.NO_CAMERA?i.setMessage("Please run this test on device"):i.setMessage("Unexpected error: "+e.code),i.show()},saveToPhotoGallery:!0,allowEditing:!0,mediaTypes:[Ti.Media.MEDIA_TYPE_VIDEO,Ti.Media.MEDIA_TYPE_PHOTO]})}),exports.buildUI=buildUI,win.add(topBar),win.add(scrollView),win.add(bottomBar),win.open();